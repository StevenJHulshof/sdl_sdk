/*
 * Grid.cpp
 *
 *  Created on: Nov 29, 2017
 *      Author: Steven
 */

#include "Grid.h"

std::vector<TileData<Tile>> Grid::_tileGrid;

Grid::Grid()
{
	for(int x = -GRID_N; x <= GRID_N; x++)
	{
		for(int y = std::max(-GRID_N, -x - GRID_N); y <= std::min(GRID_N, -x + GRID_N); y++)
		{
			int z = -x - y;
			_tileGrid.push_back(TileData<Tile>(x, y, z));
		}
	}
}

Grid::~Grid()
{

}

void Grid::setTileData(std::vector<TileData<Tile>> &grid, int xPos, int yPos, int zPos, Tile *tile)
{
	for(size_t i = 0; i < _tileGrid.size(); i++)
	{
		if(	grid[i]._xPos == xPos &&
			grid[i]._yPos == yPos &&
			grid[i]._zPos == zPos)
		{
			std::cout << "ID: " << i << " x: " << xPos << " y: " << yPos << " z: " << zPos << std::endl;
			grid[i]._tile = tile;
		}
	}
}

void Grid::renderTileGrid()
{
	for(size_t i = 0; i < _tileGrid.size(); i++)
	{
		_tileGrid[i]._tile->render(_tileGrid[i]._xPos, _tileGrid[i]._yPos, _tileGrid[i]._zPos);
	}
}
